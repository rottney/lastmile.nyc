<!DOCTYPE html>
<html>
  <head>
    <title>lastmile.nyc</title>

    <link rel="shortcut icon" href="images/favicon.png">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin="">
    </script>

    <link rel="stylesheet" href="css/TripgoRouting.css"/>

    
    <script src="dist/TripgoRouting.js"></script>
    <script src="lib/Polyline.encoded.js"></script>
    <script src="lib/jquery-3.2.1.js"></script>

    <!--
    <link href="https://cdn.maptiler.com/maptiler-geocoding-control/v1.3.3/style.css" rel="stylesheet">
    <script src="https://cdn.maptiler.com/maptiler-geocoding-control/v1.3.3/leaflet.umd.js"></script>
    -->

    <link rel="stylesheet" href="https://unpkg.com/@geoapify/leaflet-address-search-plugin@^1/dist/L.Control.GeoapifyAddressSearch.min.css" />
    <script src="https://unpkg.com/@geoapify/leaflet-address-search-plugin@^1/dist/L.Control.GeoapifyAddressSearch.min.js"></script>


  </head>
  <body>
    <div id="map"></div>

    <script>
        // Tripgo initialization
        let tripgoOptions = {
            "mapId" : "map",
            "googleTile": false,
            "mapCenter" : {
                "lat": 40.6971041913,
                "lng": -73.9795382135
            },
            "floatPanel": false,
            "tripgoApiKey": "9f9623a674f4307a10083542fc91748d", // HIDE ME
        };
        L.tripgoRouting.mapLayer.initialize(tripgoOptions);
        const map = L.tripgoRouting.mapLayer.getMap();

        // Geoapify initialization
        const geoapifyKey = "b054a9def22d4a9cb953354cf062f058"; // HIDE ME

        const origin = L.control.addressSearch(geoapifyKey, {
          position: "topleft",
          placeholder: "Origin",
          // changeMe!
          resultCallback: (address) => {
            console.log(address);
          },
        });
        map.addControl(origin);

        const destination = L.control.addressSearch(geoapifyKey, {
          position: "topleft",
          placeholder: "Destination",
          // changeMe!
          resultCallback: (address) => {
            console.log(address);
          },
        });
        map.addControl(destination);
    </script>
  </body>
</html>
